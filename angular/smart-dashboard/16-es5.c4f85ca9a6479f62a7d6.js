(window.webpackJsonp=window.webpackJsonp||[]).push([[16],{qBjP:function(n,t,e){"use strict";e.r(t);var l=e("LoAr"),u=function(){function n(){}return n.prototype.ngOnInit=function(){},n}(),r=function(){return function(){}}(),i=e("C9Ky"),a=e("GGXc"),o=e("CJhy"),c=e("WT9V"),s=e("D57K"),f=function(n){return n},b=function(n){if(null==n)return f;var t,e,l=n.scale[0],u=n.scale[1],r=n.translate[0],i=n.translate[1];return function(n,a){a||(t=e=0);var o=2,c=n.length,s=new Array(c);for(s[0]=(t+=n[0])*l+r,s[1]=(e+=n[1])*u+i;o<c;)s[o]=n[o],++o;return s}},p=function(n,t){for(var e,l=n.length,u=l-t;u<--l;)e=n[u],n[u++]=n[l],n[l]=e};function h(n,t){var e=t.id,l=t.bbox,u=null==t.properties?{}:t.properties,r=d(n,t);return null==e&&null==l?{type:"Feature",properties:u,geometry:r}:null==l?{type:"Feature",id:e,properties:u,geometry:r}:{type:"Feature",id:e,bbox:l,properties:u,geometry:r}}function d(n,t){var e=b(n.transform),l=n.arcs;function u(n,t){t.length&&t.pop();for(var u=l[n<0?~n:n],r=0,i=u.length;r<i;++r)t.push(e(u[r],r));n<0&&p(t,i)}function r(n){return e(n)}function i(n){for(var t=[],e=0,l=n.length;e<l;++e)u(n[e],t);return t.length<2&&t.push(t[0]),t}function a(n){for(var t=i(n);t.length<4;)t.push(t[0]);return t}function o(n){return n.map(a)}return function n(t){var e,l=t.type;switch(l){case"GeometryCollection":return{type:l,geometries:t.geometries.map(n)};case"Point":e=r(t.coordinates);break;case"MultiPoint":e=t.coordinates.map(r);break;case"LineString":e=i(t.arcs);break;case"MultiLineString":e=t.arcs.map(i);break;case"Polygon":e=o(t.arcs);break;case"MultiPolygon":e=t.arcs.map(o);break;default:return null}return{type:l,coordinates:e}}(t)}var g=function(n,t){var e={},l={},u={},r=[],i=-1;function a(n,t){for(var l in n){var u=n[l];delete t[u.start],delete u.start,delete u.end,u.forEach(function(n){e[n<0?~n:n]=1}),r.push(u)}}return t.forEach(function(e,l){var u,r=n.arcs[e<0?~e:e];r.length<3&&!r[1][0]&&!r[1][1]&&(u=t[++i],t[i]=e,t[l]=u)}),t.forEach(function(t){var e,r,i=function(t){var e,l=n.arcs[t<0?~t:t],u=l[0];return n.transform?(e=[0,0],l.forEach(function(n){e[0]+=n[0],e[1]+=n[1]})):e=l[l.length-1],t<0?[e,u]:[u,e]}(t),a=i[0],o=i[1];if(e=u[a])if(delete u[e.end],e.push(t),e.end=o,r=l[o]){delete l[r.start];var c=r===e?e:e.concat(r);l[c.start=e.start]=u[c.end=r.end]=c}else l[e.start]=u[e.end]=e;else if(e=l[o])if(delete l[e.start],e.unshift(t),e.start=a,r=u[a]){delete u[r.end];var s=r===e?e:r.concat(e);l[s.start=r.start]=u[s.end=e.end]=s}else l[e.start]=u[e.end]=e;else l[(e=[t]).start=a]=u[e.end=o]=e}),a(u,l),a(l,u),t.forEach(function(n){e[n<0?~n:n]||r.push([n])}),r},m=e("Bou+"),v=function(){function n(n){this.httpClient=n,this.width=0,this.height=0,this.margin=10,this.chordBorderWidth=10}return n.prototype.ngOnInit=function(){var n=this;this.httpClient.get("https://cdn.jsdelivr.net/npm/us-atlas@2/us/10m.json").subscribe(function(t){n.create(t)})},n.prototype.ngAfterViewInit=function(){this.height=this.d3Container.nativeElement.offsetHeight,this.width=this.height,this.viewBox=[0,0,960,600].join(" ")},n.prototype.create=function(n){return s.__awaiter(this,void 0,void 0,function(){var t,e,l,u,r,i,a=this;return s.__generator(this,function(o){switch(o.label){case 0:return t=new Map(n.objects.states.geometries.map(function(n){return[n.id,n.properties]})),e=this,u=(l=Object).assign,r=Map.bind,[4,Object(m.d)("https://gist.githubusercontent.com/mbostock/682b782da9e1448e6eaac00bb3d3cd9d/raw/0e0a145ded8b1672701dc8b2a702e51c648312d4/unemployment.csv",function(n){return[n.id,+n.rate]})];case 1:return e.data=u.apply(l,[new(r.apply(Map,[void 0,o.sent()])),{title:"Unemployment rate (quantile)"}]),i=function(n){for(var t=0,e=(n=n.sort(m.b)).length-1,l=!0,u=!0,r=!0;l;)u=(n[e]+n[t])/2<=n[Math.ceil((t+e)/2)],r=(n[e]+n[t])/2>=n[Math.floor((t+e)/2)],u&&r?l=!1:u?t+=1:r&&(e-=1);return n.slice(t,e+1)}(s.__spread(this.data.values())),this.color=Object(m.t)(function(n){return Object(m.j)(1-n)}).domain([i[0],i[i.length-1]]),this.items=(c=n,f=n.objects.counties,"GeometryCollection"===f.type?{type:"FeatureCollection",features:f.geometries.map(function(n){return h(c,n)})}:h(c,f)).features,this.states=function(n){return d(n,(function(n,t,e){var l,u,r;if(arguments.length>1)l=function(n,t,e){var l,u=[],r=[];function i(n){var t=n<0?~n:n;(r[t]||(r[t]=[])).push({i:n,g:l})}function a(n){n.forEach(i)}function o(n){n.forEach(a)}return function n(t){switch(l=t,t.type){case"GeometryCollection":t.geometries.forEach(n);break;case"LineString":a(t.arcs);break;case"MultiLineString":case"Polygon":o(t.arcs);break;case"MultiPolygon":t.arcs.forEach(o)}}(t),r.forEach(null==e?function(n){u.push(n[0].i)}:function(n){e(n[0].g,n[n.length-1].g)&&u.push(n[0].i)}),u}(0,t,e);else for(u=0,l=new Array(r=n.arcs.length);u<r;++u)l[u]=u;return{type:"MultiLineString",arcs:g(n,l)}}).apply(this,arguments))}(n,n.objects.states,function(n,t){return n!==t}),this.items.forEach(function(n){n.dPath=Object(m.g)()(n),n.title=n.properties.name+", "+t.get(n.id.slice(0,2)).name+a.data.get(n.id)+"%"}),this.states.dPath=Object(m.g)()(this.states),[2]}var c,f})})},n.prototype.legend=function(){},n}(),y=e("GiBk"),w=l.Hb({encapsulation:0,styles:[[".d3[_ngcontent-%COMP%]   svg[_ngcontent-%COMP%]   path[_ngcontent-%COMP%]:hover{stroke:#000}"]],data:{}});function j(n){return l.dc(0,[(n()(),l.Jb(0,0,null,null,2,":svg:path",[],[[1,"fill",0],[1,"d",0]],null,null,null,null)),(n()(),l.Jb(1,0,null,null,1,":svg:title",[],null,null,null,null,null)),(n()(),l.bc(2,null,["",""]))],null,function(n,t){var e=t.component;n(t,0,0,e.color(e.data.get(t.context.$implicit.id)),t.context.$implicit.dPath),n(t,2,0,t.context.$implicit.title)})}function k(n){return l.dc(0,[l.Zb(671088640,1,{d3Container:0}),(n()(),l.Jb(1,0,[[1,0],["d3Container",1]],null,5,"div",[["class","d3"]],null,null,null,null,null)),(n()(),l.Jb(2,0,null,null,4,":svg:svg",[],[[1,"viewBox",0]],null,null,null,null)),(n()(),l.Jb(3,0,null,null,2,":svg:g",[],null,null,null,null,null)),(n()(),l.yb(16777216,null,null,1,null,j)),l.Ib(5,278528,null,0,c.m,[l.gb,l.ab,l.C],{ngForOf:[0,"ngForOf"]},null),(n()(),l.Jb(6,0,null,null,0,":svg:path",[["fill","none"],["stroke","white"],["stroke-linejoin","round"]],[[1,"d",0]],null,null,null,null))],function(n,t){n(t,5,0,t.component.items)},function(n,t){var e=t.component;n(t,2,0,e.viewBox),n(t,6,0,null==e.states?null:e.states.dPath)})}var J=l.Hb({encapsulation:2,styles:[],data:{}});function T(n){return l.dc(0,[(n()(),l.Jb(0,0,null,null,10,"div",[["class","row"]],null,null,null,null,null)),(n()(),l.Jb(1,0,null,null,9,"div",[["class","col-xl-4"]],null,null,null,null,null)),(n()(),l.Jb(2,0,null,null,8,"nb-card",[["size","medium"]],[[2,"size-tiny",null],[2,"size-small",null],[2,"size-medium",null],[2,"size-large",null],[2,"size-giant",null],[2,"status-primary",null],[2,"status-info",null],[2,"status-success",null],[2,"status-warning",null],[2,"status-danger",null],[2,"accent",null],[2,"accent-primary",null],[2,"accent-info",null],[2,"accent-success",null],[2,"accent-warning",null],[2,"accent-danger",null]],null,null,a.F,a.i)),l.Ib(3,49152,null,0,o.gb,[],{size:[0,"size"]},null),(n()(),l.Jb(4,0,null,0,2,"nb-card-header",[],null,null,null,a.H,a.k)),l.Ib(5,49152,null,0,o.jb,[],null,null),(n()(),l.bc(-1,0,[" Quantile Choropleth "])),(n()(),l.Jb(7,0,null,1,3,"nb-card-body",[],null,null,null,a.E,a.h)),l.Ib(8,49152,null,0,o.fb,[],null,null),(n()(),l.Jb(9,0,null,0,1,"app-quantile-choropleth",[["class","app-chart"]],null,null,null,k,w)),l.Ib(10,4308992,null,0,v,[y.c],null,null)],function(n,t){n(t,3,0,"medium"),n(t,10,0)},function(n,t){n(t,2,1,[l.Tb(t,3).tiny,l.Tb(t,3).small,l.Tb(t,3).medium,l.Tb(t,3).large,l.Tb(t,3).giant,l.Tb(t,3).primary,l.Tb(t,3).info,l.Tb(t,3).success,l.Tb(t,3).warning,l.Tb(t,3).danger,l.Tb(t,3).hasAccent,l.Tb(t,3).primaryAccent,l.Tb(t,3).infoAccent,l.Tb(t,3).successAccent,l.Tb(t,3).warningAccent,l.Tb(t,3).dangerAccent])})}function C(n){return l.dc(0,[(n()(),l.Jb(0,0,null,null,1,"app-map",[],null,null,null,T,J)),l.Ib(1,114688,null,0,u,[],null,null)],function(n,t){n(t,1,0)},null)}var M=l.Fb("app-map",u,C,{},{},[]),E=e("IfiR"),P=e("981U");e.d(t,"MapModuleNgFactory",function(){return O});var O=l.Gb(r,[],function(n){return l.Qb([l.Rb(512,l.m,l.sb,[[8,[i.a,M]],[3,l.m],l.I]),l.Rb(4608,c.p,c.o,[l.E,[2,c.J]]),l.Rb(4608,E.v,E.v,[]),l.Rb(1073742336,c.c,c.c,[]),l.Rb(1073742336,P.p,P.p,[[2,P.u],[2,P.l]]),l.Rb(1073742336,E.u,E.u,[]),l.Rb(1073742336,E.j,E.j,[]),l.Rb(1073742336,o.Yd,o.Yd,[]),l.Rb(1073742336,o.Vb,o.Vb,[o.Ub]),l.Rb(1073742336,o.kb,o.kb,[]),l.Rb(1073742336,r,r,[]),l.Rb(1024,P.j,function(){return[[{path:"",component:u}]]},[])])})}}]);