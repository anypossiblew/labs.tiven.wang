(window.webpackJsonp=window.webpackJsonp||[]).push([[16],{qBjP:function(n,t,l){"use strict";l.r(t);var e=l("kZht");class u{constructor(){}ngOnInit(){}}class r{}var a=l("C9Ky"),i=l("GGXc"),s=l("MYBH"),c=l("An66"),o=l("D57K"),b=function(n){return n},h=function(n){if(null==n)return b;var t,l,e=n.scale[0],u=n.scale[1],r=n.translate[0],a=n.translate[1];return function(n,i){i||(t=l=0);var s=2,c=n.length,o=new Array(c);for(o[0]=(t+=n[0])*e+r,o[1]=(l+=n[1])*u+a;s<c;)o[s]=n[s],++s;return o}},f=function(n,t){for(var l,e=n.length,u=e-t;u<--e;)l=n[u],n[u++]=n[e],n[e]=l},d=function(n,t){return"GeometryCollection"===t.type?{type:"FeatureCollection",features:t.geometries.map(function(t){return p(n,t)})}:p(n,t)};function p(n,t){var l=t.id,e=t.bbox,u=null==t.properties?{}:t.properties,r=g(n,t);return null==l&&null==e?{type:"Feature",properties:u,geometry:r}:null==e?{type:"Feature",id:l,properties:u,geometry:r}:{type:"Feature",id:l,bbox:e,properties:u,geometry:r}}function g(n,t){var l=h(n.transform),e=n.arcs;function u(n,t){t.length&&t.pop();for(var u=e[n<0?~n:n],r=0,a=u.length;r<a;++r)t.push(l(u[r],r));n<0&&f(t,a)}function r(n){return l(n)}function a(n){for(var t=[],l=0,e=n.length;l<e;++l)u(n[l],t);return t.length<2&&t.push(t[0]),t}function i(n){for(var t=a(n);t.length<4;)t.push(t[0]);return t}function s(n){return n.map(i)}return function n(t){var l,e=t.type;switch(e){case"GeometryCollection":return{type:e,geometries:t.geometries.map(n)};case"Point":l=r(t.coordinates);break;case"MultiPoint":l=t.coordinates.map(r);break;case"LineString":l=a(t.arcs);break;case"MultiLineString":l=t.arcs.map(a);break;case"Polygon":l=s(t.arcs);break;case"MultiPolygon":l=t.arcs.map(s);break;default:return null}return{type:e,coordinates:l}}(t)}var m=function(n,t){var l={},e={},u={},r=[],a=-1;function i(n,t){for(var e in n){var u=n[e];delete t[u.start],delete u.start,delete u.end,u.forEach(function(n){l[n<0?~n:n]=1}),r.push(u)}}return t.forEach(function(l,e){var u,r=n.arcs[l<0?~l:l];r.length<3&&!r[1][0]&&!r[1][1]&&(u=t[++a],t[a]=l,t[e]=u)}),t.forEach(function(t){var l,r,a=function(t){var l,e=n.arcs[t<0?~t:t],u=e[0];return n.transform?(l=[0,0],e.forEach(function(n){l[0]+=n[0],l[1]+=n[1]})):l=e[e.length-1],t<0?[l,u]:[u,l]}(t),i=a[0],s=a[1];if(l=u[i])if(delete u[l.end],l.push(t),l.end=s,r=e[s]){delete e[r.start];var c=r===l?l:l.concat(r);e[c.start=l.start]=u[c.end=r.end]=c}else e[l.start]=u[l.end]=l;else if(l=e[s])if(delete e[l.start],l.unshift(t),l.start=i,r=u[i]){delete u[r.end];var o=r===l?l:r.concat(l);e[o.start=r.start]=u[o.end=l.end]=o}else e[l.start]=u[l.end]=l;else e[(l=[t]).start=i]=u[l.end=s]=l}),i(u,e),i(e,u),t.forEach(function(n){l[n<0?~n:n]||r.push([n])}),r},v=function(n){return g(n,(function(n,t,l){var e,u,r;if(arguments.length>1)e=function(n,t,l){var e,u=[],r=[];function a(n){var t=n<0?~n:n;(r[t]||(r[t]=[])).push({i:n,g:e})}function i(n){n.forEach(a)}function s(n){n.forEach(i)}return function n(t){switch(e=t,t.type){case"GeometryCollection":t.geometries.forEach(n);break;case"LineString":i(t.arcs);break;case"MultiLineString":case"Polygon":s(t.arcs);break;case"MultiPolygon":t.arcs.forEach(s)}}(t),r.forEach(null==l?function(n){u.push(n[0].i)}:function(n){l(n[0].g,n[n.length-1].g)&&u.push(n[0].i)}),u}(0,t,l);else for(u=0,e=new Array(r=n.arcs.length);u<r;++u)e[u]=u;return{type:"MultiLineString",arcs:m(n,e)}}).apply(this,arguments))},y=l("Bou+");class w{constructor(n){this.httpClient=n,this.width=0,this.height=0,this.margin=10,this.chordBorderWidth=10}ngOnInit(){this.httpClient.get("https://cdn.jsdelivr.net/npm/us-atlas@2/us/10m.json").subscribe(n=>{this.create(n)})}ngAfterViewInit(){this.height=this.d3Container.nativeElement.offsetHeight,this.width=this.height,this.viewBox=[0,0,960,600].join(" ")}create(n){return o.__awaiter(this,void 0,void 0,function*(){let t=new Map(n.objects.states.geometries.map(n=>[n.id,n.properties]));this.data=Object.assign(new Map(yield Object(y.d)("https://gist.githubusercontent.com/mbostock/682b782da9e1448e6eaac00bb3d3cd9d/raw/0e0a145ded8b1672701dc8b2a702e51c648312d4/unemployment.csv",({id:n,rate:t})=>[n,+t])),{title:"Unemployment rate (quantile)"});let l=function(n){let t=0,l=(n=n.sort(y.b)).length-1,e=!0,u=!0,r=!0;for(;e;)u=(n[l]+n[t])/2<=n[Math.ceil((t+l)/2)],r=(n[l]+n[t])/2>=n[Math.floor((t+l)/2)],u&&r?e=!1:u?t+=1:r&&(l-=1);return n.slice(t,l+1)}([...this.data.values()]);this.color=Object(y.t)(n=>Object(y.j)(1-n)).domain([l[0],l[l.length-1]]),this.items=d(n,n.objects.counties).features,this.states=v(n,n.objects.states,(n,t)=>n!==t),this.items.forEach(n=>{n.dPath=Object(y.g)()(n),n.title=`${n.properties.name}, ${t.get(n.id.slice(0,2)).name}${this.data.get(n.id)}%`}),this.states.dPath=Object(y.g)()(this.states)})}legend(){}}var S=l("6uGs"),k=e.Gb({encapsulation:0,styles:[[".d3[_ngcontent-%COMP%]   svg[_ngcontent-%COMP%]   path[_ngcontent-%COMP%]:hover{stroke:#000}"]],data:{}});function j(n){return e.cc(0,[(n()(),e.Ib(0,0,null,null,2,":svg:path",[],[[1,"fill",0],[1,"d",0]],null,null,null,null)),(n()(),e.Ib(1,0,null,null,1,":svg:title",[],null,null,null,null,null)),(n()(),e.ac(2,null,["",""]))],null,function(n,t){var l=t.component;n(t,0,0,l.color(l.data.get(t.context.$implicit.id)),t.context.$implicit.dPath),n(t,2,0,t.context.$implicit.title)})}function I(n){return e.cc(0,[e.Yb(671088640,1,{d3Container:0}),(n()(),e.Ib(1,0,[[1,0],["d3Container",1]],null,5,"div",[["class","d3"]],null,null,null,null,null)),(n()(),e.Ib(2,0,null,null,4,":svg:svg",[],[[1,"viewBox",0]],null,null,null,null)),(n()(),e.Ib(3,0,null,null,2,":svg:g",[],null,null,null,null,null)),(n()(),e.xb(16777216,null,null,1,null,j)),e.Hb(5,278528,null,0,c.m,[e.fb,e.Z,e.B],{ngForOf:[0,"ngForOf"]},null),(n()(),e.Ib(6,0,null,null,0,":svg:path",[["fill","none"],["stroke","white"],["stroke-linejoin","round"]],[[1,"d",0]],null,null,null,null))],function(n,t){n(t,5,0,t.component.items)},function(n,t){var l=t.component;n(t,2,0,l.viewBox),n(t,6,0,null==l.states?null:l.states.dPath)})}var M=e.Gb({encapsulation:2,styles:[],data:{}});function P(n){return e.cc(0,[(n()(),e.Ib(0,0,null,null,10,"div",[["class","row"]],null,null,null,null,null)),(n()(),e.Ib(1,0,null,null,9,"div",[["class","col-xl-4"]],null,null,null,null,null)),(n()(),e.Ib(2,0,null,null,8,"nb-card",[["size","medium"]],[[2,"size-tiny",null],[2,"size-small",null],[2,"size-medium",null],[2,"size-large",null],[2,"size-giant",null],[2,"status-primary",null],[2,"status-info",null],[2,"status-success",null],[2,"status-warning",null],[2,"status-danger",null],[2,"accent",null],[2,"accent-primary",null],[2,"accent-info",null],[2,"accent-success",null],[2,"accent-warning",null],[2,"accent-danger",null]],null,null,i.F,i.i)),e.Hb(3,49152,null,0,s.gb,[],{size:[0,"size"]},null),(n()(),e.Ib(4,0,null,0,2,"nb-card-header",[],null,null,null,i.H,i.k)),e.Hb(5,49152,null,0,s.jb,[],null,null),(n()(),e.ac(-1,0,[" Quantile Choropleth "])),(n()(),e.Ib(7,0,null,1,3,"nb-card-body",[],null,null,null,i.E,i.h)),e.Hb(8,49152,null,0,s.fb,[],null,null),(n()(),e.Ib(9,0,null,0,1,"app-quantile-choropleth",[["class","app-chart"]],null,null,null,I,k)),e.Hb(10,4308992,null,0,w,[S.c],null,null)],function(n,t){n(t,3,0,"medium"),n(t,10,0)},function(n,t){n(t,2,1,[e.Sb(t,3).tiny,e.Sb(t,3).small,e.Sb(t,3).medium,e.Sb(t,3).large,e.Sb(t,3).giant,e.Sb(t,3).primary,e.Sb(t,3).info,e.Sb(t,3).success,e.Sb(t,3).warning,e.Sb(t,3).danger,e.Sb(t,3).hasAccent,e.Sb(t,3).primaryAccent,e.Sb(t,3).infoAccent,e.Sb(t,3).successAccent,e.Sb(t,3).warningAccent,e.Sb(t,3).dangerAccent])})}function C(n){return e.cc(0,[(n()(),e.Ib(0,0,null,null,1,"app-map",[],null,null,null,P,M)),e.Hb(1,114688,null,0,u,[],null,null)],function(n,t){n(t,1,0)},null)}var E=e.Eb("app-map",u,C,{},{},[]),O=l("3kIJ"),Q=l("1VvW");l.d(t,"MapModuleNgFactory",function(){return x});var x=e.Fb(r,[],function(n){return e.Pb([e.Qb(512,e.m,e.rb,[[8,[a.a,E]],[3,e.m],e.H]),e.Qb(4608,c.p,c.o,[e.D,[2,c.J]]),e.Qb(4608,O.v,O.v,[]),e.Qb(1073742336,c.c,c.c,[]),e.Qb(1073742336,Q.p,Q.p,[[2,Q.u],[2,Q.l]]),e.Qb(1073742336,O.u,O.u,[]),e.Qb(1073742336,O.j,O.j,[]),e.Qb(1073742336,s.Yd,s.Yd,[]),e.Qb(1073742336,s.Vb,s.Vb,[s.Ub]),e.Qb(1073742336,s.kb,s.kb,[]),e.Qb(1073742336,r,r,[]),e.Qb(1024,Q.j,function(){return[[{path:"",component:u}]]},[])])})}}]);